<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Certificate - Orbital Studies</title>
<style>
body { font-family: 'Times New Roman', Times, serif; padding: 50px; background: #f5f5f5; }
.certificate { max-width: 800px; margin: auto; padding: 40px; border: 5px solid #333; background: #fff; text-align: center; }
h1 { font-size: 32px; margin-bottom: 20px; }
p { font-size: 18px; line-height: 1.5; }
.qr { margin-top: 30px; }
</style>
</head>
<body>
<div class="certificate" id="certificate">
  <h1>Certificate of Completion</h1>
  <p id="studentName"></p>
  <p id="fatherName"></p>
  <p id="course"></p>
  <p id="grade"></p>
  <p id="dateOfIssue"></p>
  <div class="qr">
    <img id="qrCode" src="" alt="QR Code" width="150" height="150">
    <p>Scan QR code to verify</p>
  </div>
</div>

<script>
async function loadCertificate() {
  const urlParams = new URLSearchParams(window.location.search);
  const studentId = urlParams.get('id');
  if (!studentId) { alert("Student ID missing"); return; }

  try {
    const response = await fetch('https://raw.githubusercontent.com/OSIFBD/Test/main/data.json');
    const data = await response.json();
    const student = data.find(s => s.studentId === studentId);
    if (!student) { alert("No certificate found for this Student ID"); return; }

    document.getElementById('studentName').innerHTML = `This is to certify that <strong>${student.Name}</strong>,`;
    document.getElementById('fatherName').innerHTML = `son/daughter of <strong>${student['Father Name']}</strong>, bearing Student ID <strong>${student.studentId}</strong>`;
    document.getElementById('course').innerHTML = `has successfully completed the <strong>${student.Course}</strong> course`;
    document.getElementById('grade').innerHTML = `with grade <strong>${student.Grade}</strong> from Orbital Studies & Immigration Pvt. Ltd.`;
    document.getElementById('dateOfIssue').innerHTML = `Date of Issue: <strong>${student['Date of Issue']}</strong>`;
    document.getElementById('qrCode').src = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(window.location.href)}`;
  } catch(e) { console.error(e); alert("Error loading certificate"); }
}

loadCertificate();
</script>
</body>
</html>
